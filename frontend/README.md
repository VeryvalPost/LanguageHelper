# Система упражнений с аутентификацией

Это React приложение для создания и выполнения различных типов упражнений с системой аутентификации пользователей.

## Возможности

- ✅ **Аутентификация пользователей** - вход и регистрация
- ✅ **Загрузка PDF документов** для создания упражнений
- ✅ **Типы упражнений:**
  - Fill The Gaps (Заполнить пропуски)
  - Match The Sentence (Сопоставить предложения)
  - True/False (Верно/Неверно)
- ✅ **Персистентность сессии** - пользователь остается авторизованным
- ✅ **Защищенный доступ** к упражнениям

## Установка и запуск

1. **Клонируйте репозиторий:**
```bash
git clone <your-repo-url>
cd project
```

2. **Установите зависимости:**
```bash
npm install
```

3. **Настройте API:**
Создайте файл `.env` в корне проекта:
```env
VITE_API_URL=http://localhost:3000/api
```

4. **Запустите приложение:**
```bash
npm run dev
```

## Настройка API

Приложение настроено для работы с бэкендом, который предоставляет следующие эндпоинты:

### Аутентификация
- `POST /authenticate` - вход пользователя
- `POST /register` - регистрация пользователя
- `POST /logout` - выход пользователя
- `GET /me` - получение информации о текущем пользователе

### Формат данных

#### Регистрация (`POST /register`)
```json
{
  "name": "Имя пользователя",
  "email": "user@example.com",
  "password": "password123"
}
```

#### Вход (`POST /authenticate`)
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

#### Ответ аутентификации
```json
{
  "id": "user_id",
  "email": "user@example.com",
  "name": "Имя пользователя",
  "token": "jwt_token_here"
}
```

## Структура проекта

```
src/
├── components/
│   ├── AuthPage.tsx          # Страница авторизации
│   ├── Header.tsx            # Заголовок с информацией о пользователе
│   ├── PDFUpload.tsx         # Загрузка PDF
│   ├── FillTheGapsExercise.tsx    # Упражнение "Заполнить пропуски"
│   ├── MatchTheSentenceExercise.tsx # Упражнение "Сопоставить предложения"
│   └── TrueFalseExercise.tsx      # Упражнение "Верно/Неверно"
├── utils/
│   └── api.ts               # Утилиты для работы с API
├── config/
│   └── api.ts               # Конфигурация API
├── types/
│   └── Exercise.ts          # Типы данных
└── App.tsx                  # Главный компонент
```

## Использование

1. **Первый запуск:** Пользователь увидит страницу входа
2. **Регистрация:** Создайте новый аккаунт или войдите в существующий
3. **Основное приложение:** После авторизации откроется интерфейс для работы с упражнениями
4. **Сессия:** Пользователь остается авторизованным до выхода или истечения токена

## Безопасность

- Токены аутентификации хранятся в `localStorage`
- Все API запросы включают заголовок `Authorization: Bearer <token>`
- Автоматическая проверка валидности токена при загрузке
- Безопасный выход с очисткой токена

## Настройка для продакшена

1. **Измените API URL:**
```env
VITE_API_URL=https://your-production-api.com/api
```

2. **Настройте CORS на бэкенде** для вашего домена

3. **Убедитесь, что HTTPS включен** для безопасной передачи токенов

## Разработка

### Добавление новых типов упражнений

1. Создайте компонент в `src/components/`
2. Добавьте тип в `src/types/Exercise.ts`
3. Обновите логику в `App.tsx`

### Кастомизация API

Измените конфигурацию в `src/config/api.ts` для соответствия вашему бэкенду.

## Технологии

- **Frontend:** React 18 + TypeScript
- **Стили:** Tailwind CSS
- **Сборка:** Vite
- **Аутентификация:** JWT токены
- **Хранение:** localStorage

## Поддержка

При возникновении проблем:

1. Проверьте консоль браузера на наличие ошибок
2. Убедитесь, что бэкенд запущен и доступен
3. Проверьте настройки CORS на бэкенде
4. Убедитесь, что API эндпоинты соответствуют ожидаемым

